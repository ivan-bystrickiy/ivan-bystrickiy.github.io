(this["webpackJsonpsunrise-awesome-forms-test"]=this["webpackJsonpsunrise-awesome-forms-test"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(10),l=c.n(n),i=c(3),r=c(6),o=c(1),d=c(4),j=c(5),b=c(0);function u(e){var t=e.label,c=void 0===t?e.children:t,a=e.color,s=void 0===a?"primary":a,n=e.className,l=void 0===n?"":n,i=e.fullWidth,r=e.size,d=Object(j.a)(e,["label","color","className","fullWidth","size"]),u="".concat(l," ").concat(i?"btn-block":""," ").concat(r?"btn-"+r:"");return Object(b.jsx)("button",Object(o.a)(Object(o.a)({className:"btn btn-".concat(s," ").concat(u)},d),{},{children:c}))}function m(e){var t=e.className,c=void 0===t?"":t,a=e.multiline,s=void 0!==a&&a,n=Object(j.a)(e,["className","multiline"]);return s?Object(b.jsx)("textarea",Object(o.a)({className:"form-control ".concat(c)},n)):Object(b.jsx)("input",Object(o.a)({className:"form-control ".concat(c)},n))}c(16);var O=c.p+"static/media/arrow-down.97c288b7.svg";function h(e){var t=e.className,c=void 0===t?"":t,n=e.defaultValue,l=void 0===n?"":n,i=e.onChange,r=e.placeholder,u=void 0===r?"":r,m=Object(j.a)(e,["className","defaultValue","onChange","placeholder"]),h=Object(a.useState)(!1),v=Object(d.a)(h,2),x=v[0],f=v[1],y=Object(a.useState)(l),p=Object(d.a)(y,2),N=p[0],g=p[1],w=function(e){g(e),f(!1),i&&i(e)},k=e.children.find((function(e){return e.props.value===N}));return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:"Select"},m),{},{children:[Object(b.jsxs)("div",{className:"Select__value form-control ".concat(c),onClick:function(){return f(!x)},children:[Object(b.jsx)("img",{src:O,alt:"arrow"}),Object(b.jsx)("span",{children:(null===k||void 0===k?void 0:k.props.label)||u})]}),x&&Object(b.jsx)("div",{className:"Select__dropdown",children:e.children.map((function(e,t){return s.a.cloneElement(e,{active:N,onChange:w,key:t+N})}))})]}))}function v(e){var t=e.label,c=void 0===t?"":t,a=e.className,s=void 0===a?"":a,n=e.onChange,l=e.checked,i=e.defaultChecked,r=Object(j.a)(e,["label","className","onChange","checked","defaultChecked"]);return Object(b.jsxs)("label",Object(o.a)(Object(o.a)({className:"Checkbox ".concat(s)},r),{},{children:[Object(b.jsx)("input",{className:"form-check-input me-2",type:"checkbox",onChange:n,defaultChecked:i,checked:l}),Object(b.jsx)("span",{children:c})]}))}h.Option=function(e){var t=e.label,c=e.value,a=e.active,s=e.onChange;return Object(b.jsx)("div",{className:"Select__option ".concat(c===a?"Select__option_active":""),onClick:function(){return s(c)},children:t})};var x=c.p+"static/media/trash.d10440a0.svg";function f(e){var t=e.idx,c=e.value,a=e.onChange,s=e.onDelete,n=e.error;return Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"question",className:"col-sm-3 col-form-label",children:["Answer ",Object(b.jsxs)("b",{children:["# ",t]})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)(m,{type:"text",id:"answer",name:"answer",defaultValue:c,onChange:function(e){return a(e.target.value)},className:n?"is-invalid":""}),Object(b.jsx)(u,{color:"danger",type:"button",label:Object(b.jsx)("img",{src:x,alt:"delete icon",width:"24"}),onClick:s})]}),n&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:n})]})]})}function y(e){var t=e.idx,c=e.data,s=e.onDelete,n=e.onChange,l=e.errors,j=void 0===l?{}:l,O=Object(a.useState)({answers:c.answers}),x=Object(d.a)(O,2),y=x[0],p=x[1],N=y.answers,g=void 0===N?[]:N,w=function(){n(y)};Object(a.useEffect)(w,[y]);var k=function(e,t){p("type"===e&&"custom"===t?function(c){var a;return Object(o.a)(Object(o.a)({},c),{},(a={},Object(r.a)(a,e,t),Object(r.a)(a,"answers",[]),a))}:function(c){return Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e,t))})},C="custom"!==(void 0===y.answerType?c.answerType:y.answerType);return Object(b.jsxs)("div",{className:"card mb-3",children:[Object(b.jsx)("h5",{className:"card-header",children:Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsxs)("div",{className:"col-sm-6",children:["#",t]}),Object(b.jsx)("div",{className:"col-sm-6 text-end",children:Object(b.jsx)(u,{color:"danger",label:"Delete",size:"sm",type:"button",onClick:s})})]})}),Object(b.jsxs)("div",{className:"card-body",onChange:w,children:[Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"question",className:"col-sm-3 col-form-label",children:["Question",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsx)(m,{type:"text",id:"question",name:"question",multiline:!0,defaultValue:c.question,onChange:function(e){return k("question",e.target.value)},className:j.question?"is-invalid":""}),j.question&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:j.question})]})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"type",className:"col-sm-3 col-form-label",children:["Answer Type",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsxs)(h,{id:"answerType",name:"answerType",placeholder:"Select answer type",defaultValue:c.answerType,onChange:function(e){return k("answerType",e)},className:j.answerType?"is-invalid":"",children:[Object(b.jsx)(h.Option,{label:"Radio Buttons",value:"radio"}),Object(b.jsx)(h.Option,{label:"Checkbox Buttons",value:"checkbox"}),Object(b.jsx)(h.Option,{label:"Custom Input",value:"custom"})]}),j.answerType&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:j.answerType})]})]}),Object(b.jsx)("div",{className:"mb-3 row",children:Object(b.jsx)("div",{className:"col-sm-9 offset-sm-3",children:Object(b.jsx)(v,{label:"Require answer",defaultChecked:c.requireAnswer,onChange:function(e){return k("requireAnswer",e.target.checked)}})})}),j.answersError&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:j.answersError}),C&&Object(b.jsxs)("div",{children:[g.map((function(e,t){return Object(b.jsx)(f,{idx:t+1,value:e.value,onChange:function(e){return function(e,t){p((function(c){return Object(o.a)(Object(o.a)({},c),{},{answers:[].concat(Object(i.a)(c.answers.slice(0,e)),[Object(o.a)(Object(o.a)({},c.answers[e]),{},{value:t})],Object(i.a)(c.answers.slice(e+1)))})}))}(t,e)},onDelete:function(){return function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{answers:[].concat(Object(i.a)(t.answers.slice(0,e)),Object(i.a)(t.answers.slice(e+1)))})}))}(t)},error:j.answers[e.id]||null},e.id)})),Object(b.jsx)(u,{type:"button",size:"sm",label:"+ Add Another Answer",color:"secondary",onClick:function(){p((function(e){return Object(o.a)(Object(o.a)({},e),{},{answers:[].concat(Object(i.a)(e.answers),[{id:Math.random().toString(),value:""}])})}))}})]})]})]})}function p(e){var t=e.questions,c=e.onChangeQuestion,a=e.onAddQuestion,s=e.onDeleteQuestion,n=e.errors;return Object(b.jsxs)("div",{children:[t.map((function(e,t){return Object(b.jsx)(y,{idx:t+1,data:e,onDelete:function(){return s(t)},onChange:function(e){return c(t,e)},errors:n[e.id]||{}},e.id)})),Object(b.jsx)(u,{type:"button",label:"Add a Question",size:"lg",className:"mb-4 mt-3",onClick:a})]})}var N=function(){var e=Object(a.useState)({title:"",category:"",country:"",state:"",city:""}),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),l=Object(d.a)(n,2),j=l[0],O=l[1],v=Object(a.useState)({}),x=Object(d.a)(v,2),f=x[0],y=x[1],N=Object(a.useState)(!1),g=Object(d.a)(N,2),w=g[0],k=g[1],C=function(e,t){s((function(c){return Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},e,t))}))};return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"container",style:{maxWidth:600},children:[Object(b.jsx)("h1",{className:"display-4 mt-3",children:"Awesome Forms"}),Object(b.jsxs)("form",{className:"mt-5 mb-4",onSubmit:function(e){e.preventDefault(),function(){var e={},t=c.title,a=c.category,s=c.country,n=c.city;t.trim()||(e.title="Enter title"),a.trim()||(e.category="Select category"),s.trim()||(e.country="Select country"),n.trim()||(e.city="Enter city"),0===j.length&&(e.questionsError="Add questions");for(var l=e.questions={},i=0;i<j.length;i++){var r=j[i],o=r.id,d=r.question,b=r.answerType,u=r.answers,m=l[o]={};d.trim()||(m.question="Enter question"),b.trim()||(m.answerType="Select answer type"),"custom"!==b&&0===u.length&&(m.answersError="Add answers");var O=m.answers={};if("custom"!==b)for(var h=0;h<u.length;h++){var v=u[h];v.value.trim()||(O[v.id]="Enter answer")}0===Object.keys(O).length&&delete m.answers,0===Object.keys(m).length&&delete l[o]}return 0===Object.keys(l).length&&delete e.questions,y(e),console.log(e),0===Object.keys(e).length}()&&(k(!0),fetch({url:"https://domain.com/spa/sunrise/",method:"PUT",body:JSON.stringify(Object(o.a)(Object(o.a)({},c),{},{questions:j}))}).then((function(){return new Promise((function(e){setTimeout(e,3e3)}))})).then((function(){s({title:"",category:"",country:"",state:"",city:""}),O([])})).finally((function(){k(!1)})))},children:[Object(b.jsx)("h3",{className:"h3 mb-3",children:"Details"}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"title",className:"col-sm-3 col-form-label",children:["Title",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsx)(m,{type:"text",id:"title",name:"title",value:c.title,onChange:function(e){return C("title",e.target.value)},className:f.title?"is-invalid":""}),f.title&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.title})]})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"category",className:"col-sm-3 col-form-label",children:["Category",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsxs)(h,{id:"category",name:"category",placeholder:"Select category",defaultValue:c.category,onChange:function(e){return C("category",e)},className:f.category?"is-invalid":"",children:[Object(b.jsx)(h.Option,{label:"Gaming",value:"gaming"}),Object(b.jsx)(h.Option,{label:"Films",value:"films"}),Object(b.jsx)(h.Option,{label:"Finance",value:"finance"})]}),f.category&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.category})]})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"country",className:"col-sm-3 col-form-label",children:["Country",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsxs)(h,{id:"country",name:"country",placeholder:"Select country",defaultValue:c.country,onChange:function(e){return C("country",e)},className:f.country?"is-invalid":"",children:[Object(b.jsx)(h.Option,{label:"Russia",value:"ru"}),Object(b.jsx)(h.Option,{label:"Kyrgyzstan",value:"kg"}),Object(b.jsx)(h.Option,{label:"USA",value:"us"})]}),f.country&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.country})]})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{htmlFor:"state",className:"col-sm-3 col-form-label",children:"State"}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsx)(m,{type:"text",id:"state",name:"state",value:c.state,onChange:function(e){return C("state",e.target.value)},className:f.state?"is-invalid":""}),f.state&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.state})]})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsxs)("label",{htmlFor:"city",className:"col-sm-3 col-form-label",children:["City",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"col-sm-9",children:[Object(b.jsx)(m,{type:"text",id:"city",name:"city",value:c.city,onChange:function(e){return C("city",e.target.value)},className:f.city?"is-invalid":""}),f.city&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.city})]})]}),Object(b.jsx)("h3",{className:"h3 mb-3",children:"Questions"}),f.questionsError&&Object(b.jsx)("div",{className:"invalid-feedback d-block",children:f.questionsError}),Object(b.jsx)(p,{questions:j,onChangeQuestion:function(e,t){O((function(c){return[].concat(Object(i.a)(c.slice(0,e)),[Object(o.a)(Object(o.a)({},c[e]),t)],Object(i.a)(c.slice(e+1)))}))},onAddQuestion:function(){O((function(e){return[].concat(Object(i.a)(e),[{id:Math.random().toString(),question:"",answerType:"",requireAnswer:!1,answers:[]}])}))},onDeleteQuestion:function(e){O((function(t){return[].concat(Object(i.a)(t.slice(0,e)),Object(i.a)(t.slice(e+1)))}))},errors:f.questions||{}}),Object(b.jsx)("br",{}),Object(b.jsx)(u,{type:"submit",label:w?"Loading...":"Submit",disabled:w,color:"secondary"})]})]})})};c(17);l.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.47213a9a.chunk.js.map