(this.webpackJsonppizza_app=this.webpackJsonppizza_app||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){var a={"./01.png":43,"./02.png":44,"./03.png":45,"./04.png":46,"./05.png":47,"./06.png":48,"./07.png":49,"./08.png":50};function i(e){var t=n(e);return c(t)}function n(e){if(!c.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=42},43:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/01.0909e3c0.png"},44:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/02.51cd5121.png"},45:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/03.87f37ef5.png"},46:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/04.ff163fed.png"},47:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/05.0909e3c0.png"},48:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/06.51cd5121.png"},49:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/07.87f37ef5.png"},50:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/08.ff163fed.png"},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);c(22);var a=c(4),i=c.p+"static/media/cart-black.d81d0c52.svg",n=c.p+"static/media/basket.6a41b04d.svg",r=c.p+"static/media/arrow-left.7829119c.svg",s=c.p+"static/media/empty-cart.0c5f7c2c.svg",j=c(3),d=c(20),l=c(10),o=(c(23),c(0)),u=["className","theme","to"];function b(e){var t=e.className,c=void 0===t?"":t,a=e.theme,i=void 0===a?"fill":a,n=e.to,r=Object(d.a)(e,u),s="btn ";return s+="btn-".concat(i,"-primary "),s+=c,n?Object(o.jsx)(l.b,Object(j.a)(Object(j.a)({to:n,className:s},r),{},{children:e.children})):Object(o.jsx)("button",Object(j.a)(Object(j.a)({className:s},r),{},{children:e.children}))}c(34),c(35);var m=c.p+"static/media/minus.ff50651f.svg",O=c.p+"static/media/plus.07542d91.svg",p=c.p+"static/media/del.04f2e67c.svg",f=c(6),h=c(13),x=c(12),v=Object(x.b)({name:"cart",initialState:{cart:{}},reducers:{addToCart:function(e,t){var c=t.payload.pizza;e.cart[c.id]?e.cart=Object(j.a)(Object(j.a)({},e.cart),{},Object(h.a)({},c.id,Object(j.a)(Object(j.a)({},e.cart[c.id]),{},{count:e.cart[c.id].count+1}))):e.cart=Object(j.a)(Object(j.a)({},e.cart),{},Object(h.a)({},c.id,{count:1,pizza:c}))},deleteFromCart:function(e,t){var c=t.payload,a=c.pizza,i=c.deleteAll,n=void 0!==i&&i;if(e.cart[a.id]&&e.cart[a.id].count>1&&!n)e.cart=Object(j.a)(Object(j.a)({},e.cart),{},Object(h.a)({},a.id,Object(j.a)(Object(j.a)({},e.cart[a.id]),{},{count:e.cart[a.id].count-1})));else{var r=Object(j.a)({},e.cart);delete r[a.id],e.cart=r}}}}),z=v.actions,g=z.addToCart,_=z.deleteFromCart,N=v.reducer;function C(e){var t=e.item,c=t.count,a=t.pizza,i=a.image,n=a.name,r=a.price,s=Object(f.b)();return Object(o.jsxs)("div",{className:"CartItem",children:[Object(o.jsxs)("div",{className:"CartItem__preview",children:[Object(o.jsx)("img",{src:i,className:"CartItem__image"}),Object(o.jsx)("div",{className:"CartItem__info",children:Object(o.jsx)("h3",{children:n})})]}),Object(o.jsxs)("div",{className:"CartItem__controls",children:[Object(o.jsx)(b,{theme:"outline",onClick:function(){return s(_({pizza:t.pizza}))},children:Object(o.jsx)("img",{src:m})}),Object(o.jsx)("span",{children:c}),Object(o.jsx)(b,{theme:"outline",onClick:function(){return s(g({pizza:t.pizza}))},children:Object(o.jsx)("img",{src:O})})]}),Object(o.jsx)("div",{className:"CartItem__sum",children:c*r}),Object(o.jsx)(b,{theme:"outline",className:"CartItem__delete",onClick:function(){return s(_({pizza:t.pizza,deleteAll:!0}))},children:Object(o.jsx)("img",{src:p})})]})}function y(){var e=Object(f.c)((function(e){return e.cart.cart})),t=0,c=0;return Object.values(e).forEach((function(e){t+=e.count*e.pizza.price,c+=e.count})),Object.keys(e).length?Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"Cart",children:[Object(o.jsxs)("div",{className:"Cart__title-wrap",children:[Object(o.jsxs)("div",{className:"Cart__title",children:[Object(o.jsx)("img",{src:i}),Object(o.jsx)("h1",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})]}),Object(o.jsxs)(b,{className:"Cart__clear-btn",children:[Object(o.jsx)("img",{src:n}),Object(o.jsx)("span",{children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]}),Object(o.jsx)("div",{className:"Cart__list",children:Object.values(e).map((function(e){return Object(o.jsx)(C,{item:e},e.pizza.id)}))}),Object(o.jsxs)("div",{className:"Cart__summary",children:[Object(o.jsxs)("div",{className:"Cart__count",children:["\u0412\u0441\u0435\u0433\u043e \u043f\u0438\u0446\u0446: ",Object(o.jsxs)("b",{children:[c," \u0448\u0442."]})]}),Object(o.jsxs)("div",{className:"Cart__sum",children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",Object(o.jsxs)("b",{children:[t," \u20bd"]})]})]}),Object(o.jsxs)("div",{className:"Cart__actions",children:[Object(o.jsxs)(b,{className:"Cart__back",to:"/",children:[Object(o.jsx)("img",{src:r}),Object(o.jsx)("span",{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]}),Object(o.jsx)(b,{children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441"})]})]})}):Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"Cart",style:{textAlign:"center"},children:Object(o.jsx)(l.b,{to:"/",children:Object(o.jsx)("img",{src:s})})})})}var I=c.p+"static/media/cart.e0b31d96.svg";c(40);function k(){var e=Object(f.c)((function(e){return e.cart.cart})),t=0,c=0;return Object.values(e).forEach((function(e){t+=e.count*e.pizza.price,c+=e.count})),Object(o.jsxs)(b,{className:"CartBtn",to:"/cart",style:{textDecoration:"none"},children:[Object(o.jsxs)("span",{className:"CartBtn__price",children:[t," \u20bd"]}),Object(o.jsx)("img",{className:"CartBtn__icon",src:I}),Object(o.jsx)("span",{className:"CartBtn__count",children:c})]})}var P=c.p+"static/media/logo.4ebd8a82.svg";function w(){return Object(o.jsx)("div",{className:"Logo",children:Object(o.jsx)("img",{src:P})})}c(41);function E(){return Object(o.jsx)("header",{className:"Header",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(w,{}),Object(o.jsx)(k,{})]})})}var L=c(1),B=c.n(L),M={code:500,message:"Internal Server Error"},A=1,S=[{id:A++,name:"\u0427\u0438\u0437\u0431\u0443\u0440\u0433\u0435\u0440-\u043f\u0438\u0446\u0446\u0430",price:395},{id:A++,name:"\u0421\u044b\u0440\u043d\u0430\u044f",price:450},{id:A++,name:"\u041a\u0440\u0435\u0432\u0435\u0442\u043a\u0438 \u043f\u043e-\u0430\u0437\u0438\u0430\u0442\u0441\u043a\u0438",price:290},{id:A++,name:"\u0421\u044b\u0440\u043d\u044b\u0439 \u0446\u044b\u043f\u043b\u0435\u043d\u043e\u043a",price:385},{id:A++,name:"\u0427\u0438\u0437\u0431\u0443\u0440\u0433\u0435\u0440-\u043f\u0438\u0446\u0446\u0430",price:395},{id:A++,name:"\u0421\u044b\u0440\u043d\u0430\u044f",price:450},{id:A++,name:"\u041a\u0440\u0435\u0432\u0435\u0442\u043a\u0438 \u043f\u043e-\u0430\u0437\u0438\u0430\u0442\u0441\u043a\u0438",price:290},{id:A++,name:"\u0421\u044b\u0440\u043d\u044b\u0439 \u0446\u044b\u043f\u043b\u0435\u043d\u043e\u043a",price:385}].map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{image:c(42)("./".concat(t+1>9?t+1:"0"+(t+1),".png")).default})})),T=function(){return new Promise((function(e,t){setTimeout((function(){Math.random()>.2&&e({pizzas:S}),t({error:M})}),1e3*Math.floor(3*Math.random()))}))};c(51);function D(e){var t=e.pizza,c=Object(f.c)((function(e){return e.cart.cart})),a=Object(f.b)(),i=c[t.id];return Object(o.jsxs)("div",{className:"PizzaItem",children:[Object(o.jsx)("img",{className:"PizzaItem__img",src:t.image}),Object(o.jsx)("h3",{className:"PizzaItem__name",children:t.name}),Object(o.jsxs)("div",{className:"PizzaItem__controls",children:[Object(o.jsxs)("strong",{className:"PizzaItem__price",children:["\u043e\u0442 ",t.price," \u20bd"]}),Object(o.jsxs)(b,{theme:"outline",onClick:function(){return a(g({pizza:t}))},children:[Object(o.jsx)("span",{children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),i&&Object(o.jsx)("span",{className:"PizzaItem__count",children:i.count})]})]})]})}c(52);var F=Object(x.b)({name:"cart",initialState:{loading:!1,error:null,list:[]},reducers:{setLoading:function(e,t){var c=t.payload;e.loading=c},setError:function(e,t){var c=t.payload;e.error=c},setPizzasList:function(e,t){var c=t.payload;e.list=c}}}),J=F.actions,U=J.setLoading,H=J.setError,q=J.setPizzasList,G=F.reducer;function K(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.pizzas}));Object(L.useEffect)((function(){c()}),[]);var c=function(){t.list.length||(e(U(!0)),T().then((function(t){return e(q(t.pizzas))})).catch((function(t){return e(H(t.error))})).finally((function(){return e(U(!1))})))};return console.log(t),t.loading?Object(o.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):t.error?Object(o.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430: ",t.error.code," - ",t.error.message]}):Object(o.jsx)("div",{className:"PizzaList",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"PizzaList__title",children:"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"}),Object(o.jsx)("div",{className:"PizzaList__wrap",children:t.list.map((function(e,t){return Object(o.jsx)(D,{pizza:e},t)}))})]})})}var Q=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(a.c,{children:[Object(o.jsxs)(a.a,{path:"/cart",children:[Object(o.jsx)(E,{}),Object(o.jsx)(y,{})]}),Object(o.jsxs)(a.a,{path:"/",children:[Object(o.jsx)(E,{}),Object(o.jsx)(K,{})]})]})})},R=c(15),V=c.n(R),W=Object(x.a)({reducer:{cart:N,pizzas:G}});V.a.render(Object(o.jsx)(B.a.StrictMode,{children:Object(o.jsx)(l.a,{children:Object(o.jsx)(f.a,{store:W,children:Object(o.jsx)(Q,{})})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.07c30260.chunk.js.map